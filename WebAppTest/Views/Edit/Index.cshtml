@model ToDoItem;
@{ 
    var statuses = (List<ToDoStatus>)ViewBag.Statuses;
}

<div class="container-fluid">
    <form method="POST" action="/Edit/Save">
        <input  name="@nameof(ToDoItem.ID)" value="@Model?.ID" hidden/>

        <div class="form-row justify-content-center">
            <div class="form-group col-sm-5">
                <label for="@nameof(ToDoItem.Name)">Название</label>
                <input class="form-control"
                       id="@nameof(ToDoItem.Name)"
                       name="@nameof(ToDoItem.Name)"
                       value="@Model?.Name"
                       required />
            </div>
            <div class="form-row justify-content-center">
                <div class="form-group col-sm-6">
                    <label for="@nameof(ToDoItem.StartDate)">Дата начала</label>
                    <input class="form-control" 
                           id="@nameof(ToDoItem.StartDate)"
                           name="@nameof(ToDoItem.StartDate)"
                           value="@Model?.StartDate" 
                           type="date"
                           required />
                </div>
                <div class="form-group col-sm-6">
                    <label for="@nameof(ToDoItem.EndDate)">Дата окончания</label>
                    <input class="form-control"
                           id="@nameof(ToDoItem.EndDate)"
                           name="@nameof(ToDoItem.EndDate)"
                           value="@Model?.EndDate"
                           type="date"
                           required />
                </div>
            </div>
            <div class="form-group col-sm-6">
                <label for="@nameof(ToDoItem.Description)">Описание</label>
                <textarea class="form-control"
                       id="@nameof(ToDoItem.Description)"
                       name="@nameof(ToDoItem.Description)"
                       value="@Model?.Description"
                       required>
                </textarea>
                <div class="form-group col-sm-6 mt-3 justify-content-center">
                    <label for="@nameof(ToDoItem.Status)">Статус</label>
                    <select class="form-control"
                            id="@nameof(ToDoItem.Status)"
                            name="@nameof(ToDoItem.Status)"
                            value="@Model?.Status"
                            required>
                        @foreach (var status in statuses)
                        {
                            if (Model?.Status == status)
                            {
                                <option value="@status" selected>@status</option>
                            }
                            else
                            {
                                <option value="@status">@status</option>
                            }
                        }
                    </select>
                </div>
                <div class="form-row justify-content-center mt-5">
                    <input class="btn btn-secondary form-control col-sm-6" type="submit" value="Сохранить" />
                </div>
            </div>
        </div>
    </form>
</div>